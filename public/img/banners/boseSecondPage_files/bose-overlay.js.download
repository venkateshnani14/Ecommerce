var Bose=Bose||{};Bose.Overlay=function(){function a(){$jq("a.overlay").each(function(){b($jq(this),null)}),$jq("a.overlay").click(function(){d($jq(this),null)})}function b(a,b){var c=k(a,{helpers:{title:!1},scrolling:"auto",padding:[45,8,15,15],beforeLoad:g,afterLoad:b,beforeShow:e,afterShow:f,afterClose:i});a.fancybox(c),a.hasClass("bose-overlay--open")&&a.click()}function c(a){if(0===a.indexOf("/"))return!0;var b=$jq(".bose-navBar__logo").attr("href");return 0===a.indexOf(b)}function d(a,b){var c=k(a,{helpers:{title:!1},scrolling:"auto",padding:[45,8,15,15],beforeLoad:g,afterLoad:b,tpl:{error:'<p class="fancybox-error">'+Bose.Translation.getSiteTranslation("The requested content cannot be loaded.<br/>Please try again later.")+"</p>",closeBtn:'<a title="'+Bose.Translation.getSiteTranslation("Close")+'" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="'+Bose.Translation.getSiteTranslation("Next")+'" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="'+Bose.Translation.getSiteTranslation("Previous")+'" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},afterShow:f,afterClose:i,centerOnScroll:!0});a.fancybox(c),a.hasClass("bose-overlay--open")&&a.click()}function e(){$jq("body").css({"overflow-y":"hidden"}),$jq("html").css({"overflow-y":"hidden"})}function f(){h(),Bose.Utils.initElements()}function g(){void 0!==Bose.DataCapture&&Bose.DataCapture.isOpen()&&Bose.DataCapture.disable()}function h(){$jq(".fancybox-opened .fancybox-close").focus()}function i(){$jq("body").css({"overflow-y":"visible"}),$jq("html").css({"overflow-y":"visible"}),void 0!==Bose.DataCapture&&Bose.DataCapture.enable(),j()}function j(){$jq(this.element).focus()}function k(a,b){var d=a.attr("href");return void 0!==d&&(c(d)&&-1===d.indexOf(".overlays")&&d.indexOf(".html")>-1&&(a.attr("href",d.replace(".html",".overlays.html")),d=a.attr("href")),d.indexOf(".overlays")>-1?b.type="ajax":0!==d.indexOf("#")&&(b.type="iframe")),a.hasClass("bose-overlay--modal")&&(b.modal=!0),a.hasClass("bose-overlay--scrolling")&&(b.scrolling="auto"),a.hasClass("overlay-image")&&(b.type="image",b.arrows=!1),b}function l(a,b){a.fancybox(b)}return{init:a,doOverlay:d,doOverlayInit:b,refresh:l}}();
$jq(document).ready(function(){Bose.Overlay.init()});
