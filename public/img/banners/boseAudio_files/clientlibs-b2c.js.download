var Bose=Bose||{};Bose.ButtonLink=function(){function a(){$jq(document).on("click",n.submitButton,e).on("click",n.ajaxButton,g).on("click",n.startLoadingOnClick,f).on("click",n.goToButton,function(a){a.preventDefault(),k($jq(this).attr(p.goToTarget),!0)}),b()}function b(){$jq(n.stickyButton).waypoint({handler:function a(b){var c,d,e=$jq(this);"up"===b?(e.removeClass(o.notVisible),$jq(n.stuckContainer).addClass(o.stuckContainerNotVisible).remove()):"down"===b&&(c=$jq("<div/>",{class:o.jsStuckContainer+" "+o.stuckContainer+" "+o.stuckContainerNotVisible}),d=e.clone().addClass(o.jsStuckContainerButton+" "+o.stuckContainerButton),e.addClass(o.notVisible),d.appendTo(c),c.appendTo($jq("body")),c.removeClass(o.stuckContainerNotVisible))},offset:"50px"})}function c(a){a.addClass(o.progressBar),h(a)}function d(a){a.removeClass(o.progressBar),i(a)}function e(a){if(j($jq(this))){var b=$jq(a.currentTarget),d=b.closest("form");b.hasClass("bose-buttonLink--cta")&&c(b),a.preventDefault(),void 0!==b.data("continue")&&b.data("continue")?$jq.ajax({url:d.attr("action"),method:d.attr("method"),data:d.serialize(),success:function a(){return!1}}):Bose.Forms.submitForm(this)}}function f(a){if(!j($jq(this)))return a.preventDefault(),!1;var b=$jq(a.currentTarget);b.hasClass(o.progressBar)?a.preventDefault():c(b)}function g(a){var b=$jq(a.currentTarget);j(b)&&(c(b),a.preventDefault(),$jq(document).trigger("ajaxSubmit",[b]))}function h(a){a.addClass(o.disabled).addClass(o.jsDisabled)}function i(a){a.removeClass(o.disabled).removeClass(o.jsDisabled)}function j(a){return!a.hasClass(o.jsDisabled)}function k(a,b){a&&l(a).then(m(b))}function l(a){var b=$jq.Deferred();return $jq("html,body").animate({scrollTop:$jq(a).offset().top},400,function(){b.resolve()}),b}function m(a){return a&&$jq(document).trigger(p.btnLinkScrollEvent),this}var n={submitButton:".js-buttonLink__submitButton",ajaxButton:".js-buttonLink__ajaxSubmitButton",stickyButton:".js-buttonLink__stickyButton",stuckContainer:".js-buttonLinkStuckContainer",stuckContainerButton:".js-buttonLinkStuckContainer__button",startLoadingOnClick:".js-buttonLink_startLoadingOnClick",goToButton:".js-buttonLink__goToButton"},o={notVisible:"bose-buttonLink--notVisible",progressBar:"bose-buttonLink--inProgress",cta:"bose-buttonLink--cta",disabled:"-disabled",jsDisabled:"js-buttonLink-disabled",stuckContainer:"bose-buttonLinkStuckContainer",jsStuckContainer:"js-buttonLinkStuckContainer",stuckContainerNotVisible:"bose-buttonLinkStuckContainer--notVisible",stuckContainerButton:"bose-buttonLinkStuckContainer__button",jsStuckContainerButton:"js-buttonLinkStuckContainer__button",loading:"js-buttonLink-loading"},p={goToTarget:"goToTarget",btnLinkScrollEvent:"BtnLinkScrollToEvent"};return{init:a,enable:i,disable:h,isEnabled:j,addProgressBar:c,removeProgressBar:d,goToButton:k,_selectors:n,_classes:o}}();
$jq(document).ready(function(){Bose.ButtonLink.init()});
